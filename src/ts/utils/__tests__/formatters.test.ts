import {
    formatNumber,
    participantId,
    shortAddress,
    shortBytes,
    shortTokenId,
} from "../formatters"

describe("Value formatters", () => {
    describe("Numbers", () => {
        test.each([
            ["0", "0"],
            ["100", "100"],
            ["1234", "1,234"],
            ["12345", "12,345"],
            ["654321", "654,321"],
            ["7654321", "7,654,321"],
            ["876543210987654321", "876,543,210,987,654,321"],
            ["9876543210987654321", "9,,876,543,210,987,654,321"],
            ["2109876543210987654321", "2,109,,876,543,210,987,654,321"],
            [undefined, ""],
            [null, ""],
            ["", ""],
            ["abcd", "abcd"],
            [1234, "1,234"],
            ["1,234", "1,234"],
            [7654321, "7,654,321"],
            [
                "0xf8ed0f78ddda1c28f261153b733dff2b470c8209",
                "0xf8ed0f78ddda1c28f261153b733dff2b470c8209",
            ],
        ])("%s expect %s", (value, expected) => {
            // @ts-ignore
            expect(formatNumber(value)).toEqual(expected)
        })
    })
    describe("Shorten addresses", () => {
        test.each([
            ["0xf8ed0f78ddda1c28f261153b733dff2b470c8209", "0xf8ed..8209"],
            ["0x3449fc1cd036255ba1eb19d65ff4ba2b8903a69a", "0x3449..a69a"],
            [
                "3449fc1cd036255ba1eb19d65ff4ba2b8903a69a",
                "3449fc1cd036255ba1eb19d65ff4ba2b8903a69a",
            ],
            [
                "0x3449fc1cd036255ba1eb19d65ff4ba2b8903a69a11",
                "0x3449fc1cd036255ba1eb19d65ff4ba2b8903a69a11",
            ],
            [undefined, ""],
            [null, ""],
            [1234, ""],
            ["", ""],
            ["0x", "0x"],
            ["abcd", "abcd"],
        ])("%s expect %s", (value, expected) => {
            // @ts-ignore
            expect(shortAddress(value)).toEqual(expected)
        })
    })
    describe("Participant id", () => {
        test.each([
            ["0xf8ed0f78ddda1c28f261153b733dff2b470c8209", "f8ed8209"],
            ["0x3449fc1cd036255ba1eb19d65ff4ba2b8903a69a", "3449a69a"],
        ])("%s expect %s", (value, expected) => {
            // @ts-ignore
            expect(participantId(value)).toEqual(expected)
        })
    })
    describe("Shorten token id", () => {
        test.each([
            ["0", "0"],
            ["1", "1"],
            ["10", "10"],
            ["999", "999"],
            ["123456", "123456"],
            ["1234567", "123..567"],
            ["9876543210123456789", "987..789"],
            ["010", "010"],
        ])("%s expect %s", (value, expected) => {
            // @ts-ignore
            expect(shortTokenId(value)).toEqual(expected)
        })
    })
    describe("Shorten bytes", () => {
        test.each([
            [
                "0xc9f12e9d000000000000000000000000dc7d8cc3a22fe0ec69770e02931f43451b7b975e000000000000000000000000178c820f862b14f316509ec36b13123da19a6054",
                "0xc9f12e9d..a19a6054",
            ],
            [
                "0x000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000004e00000000000000000000000000000000000000000000000000000000000000011000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9f000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9f0000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000e0839f9b9688a77924208ad509e29952dc660261000000000000000000000000d081f06f06eb774f642195e8dd4c393de07486a90000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000e0839f9b9688a77924208ad509e29952dc6602610000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9f000000000000000000000000e0839f9b9688a77924208ad509e29952dc660261000000000000000000000000be002c3a9a31ac20e7263118bdc5bb1273f34ad6000000000000000000000000e0839f9b9688a77924208ad509e29952dc660261000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9f0000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000068155a43676e000020000000000000000000000000000000000000000000000067d79f4caaaedd3a4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000711164b95cf0b4aaa00000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000004c0000000000000000000000000000000000000000000000000000000000000054000000000000000000000000000000000000000000000000000000000000005c0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006800000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000078000000000000000000000000000000000000000000000000000000000000008c00000000000000000000000000000000000000000000000000000000000000920000000000000000000000000000000000000000000000000000000000000096000000000000000000000000000000000000000000000000000000000000009e00000000000000000000000000000000000000000000000000000000000000b400000000000000000000000000000000000000000000000000000000000000bc00000000000000000000000000000000000000000000000000000000000000d0000000000000000000000000000000000000000000000000000000000000000242e1a7d4d0000000000000000000000000000000000000000000000068155a43676e000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e4fb3bdb4100000000000000000000000000000000000000000000000000000006fc23ac00000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000e84f2bbdfb129ed6e495c7f879f3e634000000000000000000000000000000000000000000000000000000005fefb3230000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000e0839f9b9688a77924208ad509e29952dc6602610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e4fb3bdb410000000000000000000000000000000000000000000000000000000005f5e100000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000e84f2bbdfb129ed6e495c7f879f3e634000000000000000000000000000000000000000000000000000000005fefb3230000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044a9059cbb000000000000000000000000d081f06f06eb774f642195e8dd4c393de07486a90000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044a9059cbb000000000000000000000000d081f06f06eb774f642195e8dd4c393de07486a900000000000000000000000000000000000000000000000000000006f332da80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004fff6cae9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000e0839f9b9688a77924208ad509e29952dc660261ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004447e7ef240000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c5990000000000000000000000000000000000000000000000000000000002faf080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010438ed17390000000000000000000000000000000000000000000000000000000002faf07e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000e84f2bbdfb129ed6e495c7f879f3e634000000000000000000000000000000000000000000000000000000005fefb32300000000000000000000000000000000000000000000000000000000000000020000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000e0839f9b9688a77924208ad509e29952dc660261000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024fa09e6300000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004fff6cae9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9f0000000000000000000000000000000000000000000000000000015291ef103c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012418cbafe50000000000000000000000000000000000000000000000000000015291ef103c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000e84f2bbdfb129ed6e495c7f879f3e634000000000000000000000000000000000000000000000000000000005fefb3230000000000000000000000000000000000000000000000000000000000000003000000000000000000000000e0839f9b9688a77924208ad509e29952dc660261000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec7000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000d9e1ce17f2641f24ae83637ab66a2cca9c378b9fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010418cbafe50000000000000000000000000000000000000000000000000000000005e67a26000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000e84f2bbdfb129ed6e495c7f879f3e634000000000000000000000000000000000000000000000000000000005fefb32300000000000000000000000000000000000000000000000000000000000000020000000000000000000000002260fac5e5542a773aa44fbcfedf7c193bc2c599000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004d0e30db0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001240",
                "0x00000000..00001240",
            ],
            ["0xFEDCBA9876543210", "0xFEDCBA9876543210"],
            ["0xFEDCBA9876543210FF", "0xFEDCBA98..543210FF"],
            ["0xFEDCBA9876543210FEDCBA9876543210", "0xFEDCBA98..76543210"],
            [
                "0xf8ed0f78ddda1c28f261153b733dff2b470c8209",
                "0xf8ed0f78..470c8209",
            ],
            [undefined, ""],
            [null, ""],
            [1234, 1234],
            ["", ""],
            ["0x", "0x"],
            ["abcd", "abcd"],
        ])("%s expect %s", (value, expected) => {
            // @ts-ignore
            expect(shortBytes(value)).toEqual(expected)
        })
    })
})
